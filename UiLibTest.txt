local lib = {}

local tweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")

function Drag(target2)
	local parent = target2
	local dragToggle = nil
	local dragSpeed = 0.25
	local dragStart = nil
	local startPos = nil

	local function updateInput(input)
		local delta = input.Position - dragStart
		local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		game:GetService('TweenService'):Create(parent, TweenInfo.new(dragSpeed), {Position = position}):Play()
	end

	parent.InputBegan:Connect(function(input)
		if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then 
			dragToggle = true
			dragStart = input.Position
			startPos = parent.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragToggle = false
				end
			end)
		end
	end)

	UIS.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			if dragToggle then
				updateInput(input)
			end
		end
	end)
end
function lib.Main(Title)
	Title = Title or "Untitled"
	local LibTest = Instance.new("ScreenGui")
	local TopBar = Instance.new("Frame")
	local UICorner = Instance.new("UICorner")
	local Window = Instance.new("Frame")
	local UICorner_2 = Instance.new("UICorner")
	local DropShadowHolder = Instance.new("Frame")
	local DropShadow = Instance.new("ImageLabel")
	local TabHolder = Instance.new("Frame")
	local UICorner_3 = Instance.new("UICorner")
	local TabScroll = Instance.new("ScrollingFrame")
	local UICorner_4 = Instance.new("UICorner")
	local UIListLayout = Instance.new("UIListLayout")
	local UIPadding = Instance.new("UIPadding")
	local TabFrames = Instance.new("Folder")
	local LibTitle = Instance.new("TextLabel")
	local Minimize = Instance.new("TextButton")
	local Close = Instance.new("TextButton")

	--Properties:

	LibTest.Name = "LibTest"
	LibTest.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

	TopBar.Name = "TopBar"
	TopBar.Parent = LibTest
	TopBar.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
	TopBar.Position = UDim2.new(0.287, 0, 0.261000007, -2)
	TopBar.Size = UDim2.new(0, 610, 0, 44)
	TopBar.ZIndex = 6

	UICorner.CornerRadius = UDim.new(0, 6)
	UICorner.Parent = TopBar

	Window.Name = "Window"
	Window.Parent = TopBar
	Window.Active = true
	Window.BackgroundColor3 = Color3.fromRGB(43, 43, 43)
	Window.Position = UDim2.new(0.0023747494, 0, -0.0136562698, 0)
	Window.Size = UDim2.new(0, 608, 0, 382)
	Window.ZIndex = 4

	UICorner_2.CornerRadius = UDim.new(0, 6)
	UICorner_2.Parent = Window

	DropShadowHolder.Name = "DropShadowHolder"
	DropShadowHolder.Parent = Window
	DropShadowHolder.BackgroundTransparency = 1.000
	DropShadowHolder.BorderSizePixel = 0
	DropShadowHolder.Size = UDim2.new(1, 0, 1, 0)
	DropShadowHolder.ZIndex = 0

	DropShadow.Name = "DropShadow"
	DropShadow.Parent = DropShadowHolder
	DropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
	DropShadow.BackgroundTransparency = 1.000
	DropShadow.BorderSizePixel = 0
	DropShadow.Position = UDim2.new(0.516447365, -10, 0.5, 0)
	DropShadow.Size = UDim2.new(1, 47, 1, 47)
	DropShadow.ZIndex = 0
	DropShadow.Image = "rbxassetid://6014261993"
	DropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
	DropShadow.ImageTransparency = 0.500
	DropShadow.ScaleType = Enum.ScaleType.Slice
	DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)

	TabHolder.Name = "TabHolder"
	TabHolder.Parent = Window
	TabHolder.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
	TabHolder.Position = UDim2.new(0.00600000005, -5, 0.0890000015, 0)
	TabHolder.Size = UDim2.new(0, 148, 0, 348)
	TabHolder.ZIndex = 5

	UICorner_3.CornerRadius = UDim.new(0, 6)
	UICorner_3.Parent = TabHolder

	TabScroll.Name = "TabScroll"
	TabScroll.Parent = TabHolder
	TabScroll.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
	TabScroll.BackgroundTransparency = 1.000
	TabScroll.Position = UDim2.new(-0.00512282923, -1, 0.0370644741, 0)
	TabScroll.Selectable = false
	TabScroll.Size = UDim2.new(0, 155, 0, 335)
	TabScroll.ZIndex = 5
	TabScroll.CanvasPosition = Vector2.new(0, 1.55820894)
	TabScroll.CanvasSize = UDim2.new(0, 0, 1.5, 0)
	TabScroll.ScrollBarImageTransparency = 1

	UICorner_4.CornerRadius = UDim.new(0, 6)
	UICorner_4.Parent = TabScroll

	UIListLayout.Parent = TabScroll
	UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	UIListLayout.Padding = UDim.new(0, 16)

	UIPadding.Parent = TabScroll
	UIPadding.PaddingRight = UDim.new(0, 5)
	UIPadding.PaddingTop = UDim.new(0, 12)

	local tabs = {}

	local first = false
	
	function tabs:CreateTab(TabTxt)
		TabTxt = TabTxt or "Tab"
		
		print(TabTxt)
		
		local HomeTab = Instance.new("ScrollingFrame")
		local UIListLayout = Instance.new("UIListLayout")
		local UIPadding = Instance.new("UIPadding")
		local Tab = Instance.new("TextButton")
		local UIListLayout_2 = Instance.new("UIListLayout")
		local UIPadding_2 = Instance.new("UIPadding")
			
		HomeTab.Name = TabTxt
		HomeTab.Parent = TabFrames
		HomeTab.Active = true
		HomeTab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		HomeTab.BackgroundTransparency = 1.000
		HomeTab.Position = UDim2.new(0.243421048, 0, 0.117801048, 0)
		HomeTab.Size = UDim2.new(0, 459, 0, 334)
		HomeTab.ZIndex = 5
		HomeTab.ScrollBarImageTransparency = 1
			
		Tab.Name = "Tab"
		Tab.Parent = TabScroll
		Tab.Active = false
		Tab.BackgroundColor3 = Color3.fromRGB(84, 84, 84)
		Tab.BorderColor3 = Color3.fromRGB(199, 199, 199)
		Tab.BorderSizePixel = 3
		Tab.Position = UDim2.new(0.0405407473, 0, 0.0238805972, 0)
		Tab.Selectable = false
		Tab.Size = UDim2.new(0, 123, 0, 30)
		Tab.ZIndex = 5
		Tab.FontFace = Font.new([[rbxasset://fonts/families/Nunito.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
		Tab.Text = TabTxt
		Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
		Tab.TextSize = 29.000
		Tab.TextWrapped = true
			
		if first then
			first = false
			HomeTab.Visible = true
			Tab.BackgroundTransparency = 0.7
			Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
		else
			HomeTab.Visible = false
			Tab.BackgroundTransparency = 0.89
			Tab.TextColor3 = Color3.fromRGB(199, 199, 199)
		end

		Tab.MouseButton1Click:Connect(function()
			for i,v in next, TabFrames:GetChildren() do
				v.Visible = false
			end
			HomeTab.Visible = true

			for i,v in next, TabScroll:GetChildren() do
				if v:IsA("TextButton") then
					game.TweenService:Create(v, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
						BackgroundTransparency = 0.89
					}):Play()
					game.TweenService:Create(v, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
						TextColor3 = Color3.fromRGB(199, 199, 199)
					}):Play()
				end
			end
			game.TweenService:Create(Tab, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
				BackgroundTransparency = 0.7
			}):Play()
			game.TweenService:Create(Tab, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
					TextColor3 = Color3.fromRGB(255, 255, 255)
			}):Play()
		end)
		

		UIListLayout_2.Parent = HomeTab
		UIListLayout_2.HorizontalAlignment = Enum.HorizontalAlignment.Center
		UIListLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
		UIListLayout_2.Padding = UDim.new(0, 12)

		UIPadding_2.Parent = HomeTab
		UIPadding_2.PaddingTop = UDim.new(0, 12)
		
	local Elements = {}	
		
		function Elements:Button(BtnText, callback)
			BtnText = BtnText or "Button"
			callback = callback or function() end

			local ButtonFrame = Instance.new("Frame")
			local UIStroke = Instance.new("UIStroke")
			local UICorner_5 = Instance.new("UICorner")
			local ButtonLabel = Instance.new("TextLabel")
			local CursorImage = Instance.new("ImageLabel")
			local Clickable = Instance.new("TextButton")
			
			
			ButtonFrame.Name = "ButtonFrame"
			ButtonFrame.Parent = HomeTab
			ButtonFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
			ButtonFrame.BackgroundTransparency = 0.600
			ButtonFrame.Position = UDim2.new(0.178958789, 0, 0.0595238097, 0)
			ButtonFrame.Size = UDim2.new(0, 326, 0, 38)
			ButtonFrame.ZIndex = 5

			UIStroke.Name = "UIStroke"
			UIStroke.Parent = ButtonFrame
			UIStroke.Thickness = 2.5
			UIStroke.Color = Color3.fromRGB(86, 86, 86)

			ButtonLabel.Name = "ButtonLabel"
			ButtonLabel.Parent = ButtonFrame
			ButtonLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			ButtonLabel.BackgroundTransparency = 1.000
			ButtonLabel.Position = UDim2.new(0.0357068926, 0, 0.0263157897, 0)
			ButtonLabel.Size = UDim2.new(0, 282, 0, 37)
			ButtonLabel.ZIndex = 5
			ButtonLabel.FontFace = Font.new([[rbxasset://fonts/families/Nunito.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
			ButtonLabel.Text = BtnText
			ButtonLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
			ButtonLabel.TextSize = 36.000
			ButtonLabel.TextWrapped = true
			ButtonLabel.TextXAlignment = Enum.TextXAlignment.Left
			ButtonLabel.TextYAlignment = Enum.TextYAlignment.Bottom

			CursorImage.Name = "CursorImage"
			CursorImage.Parent = ButtonFrame
			CursorImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			CursorImage.BackgroundTransparency = 1.000
			CursorImage.Position = UDim2.new(0.870786548, -5, 0.0263157897, 0)
			CursorImage.Size = UDim2.new(0, 37, 0, 37)
			CursorImage.ZIndex = 5
			CursorImage.Image = "rbxassetid://12971542582"
			CursorImage.ImageColor3 = Color3.fromRGB(200, 200, 200)

			Clickable.Name = "Clickable"
			Clickable.Parent = ButtonFrame
			Clickable.Active = false
			Clickable.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			Clickable.BackgroundTransparency = 1.000
			Clickable.Position = UDim2.new(0.0357068777, 0, 0.0263157897, 0)
			Clickable.Selectable = false
			Clickable.Size = UDim2.new(0, 300, 0, 37)
			Clickable.ZIndex = 9
			Clickable.Font = Enum.Font.Unknown
			Clickable.Text = "ButtonName"
			Clickable.TextColor3 = Color3.fromRGB(200, 200, 200)
			Clickable.TextSize = 36.000
			Clickable.TextWrapped = true
			Clickable.TextXAlignment = Enum.TextXAlignment.Left
			Clickable.TextYAlignment = Enum.TextYAlignment.Bottom
			Clickable.MouseButton1Click:Connect(function()
				callback()
				ButtonFrame.BackgroundTransparency = 0
				ButtonFrame.BackgroundColor3 = Color3.fromRGB(56, 56, 56)
				ButtonLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
				UIStroke.Color = Color3.fromRGB(255, 255, 255)
				CursorImage.ImageColor3 = Color3.fromRGB(255,255,255)

				local ClickSound = 	Instance.new("Sound")

				ClickSound.Parent = Clickable
				ClickSound.SoundId = "rbxassetid://552900451"
				ClickSound.Volume = 2 

				ClickSound:Play()

				wait(0.2)

				game.TweenService:Create(ButtonFrame, TweenInfo.new(0.8, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
					BackgroundColor3 = Color3.fromRGB(35, 35, 35)
				}):Play()

				game.TweenService:Create(ButtonLabel, TweenInfo.new(0.8, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
					TextColor3 = Color3.fromRGB(200,200,200)
				}):Play()

				game.TweenService:Create(UIStroke, TweenInfo.new(0.8, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
					Color = Color3.fromRGB(86, 86, 86)
				}):Play()

				game.TweenService:Create(CursorImage, TweenInfo.new(0.8, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
					ImageColor3 = Color3.fromRGB(200,200,200)
				}):Play()


			end)

		end
		
		function Elements:Toggle(ToggleTxt, callback)
			ToggleTxt = ToggleTxt or "Toggle"
			callback = callback or function() end
			local ToggleFrame = Instance.new("Frame")
			local ToggleLabel = Instance.new("TextLabel")
			local Clickable_2 = Instance.new("TextButton")
			local UIStroke_2 = Instance.new("UIStroke")
			local UIStroke_3 = Instance.new("UIStroke")
			local UICorner_6 = Instance.new("UICorner")

					
			ToggleFrame.Name = "ToggleFrame"
			ToggleFrame.Parent = HomeTab
			ToggleFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
			ToggleFrame.BackgroundTransparency = 0.600
			ToggleFrame.Position = UDim2.new(0.22004357, 0, 0.185628831, 0)
			ToggleFrame.Size = UDim2.new(0, 257, 0, 40)
			ToggleFrame.ZIndex = 5

			ToggleLabel.Name = "ToggleLabel"
			ToggleLabel.Parent = ToggleFrame
			ToggleLabel.BackgroundColor3 = Color3.fromRGB(74, 74, 74)
			ToggleLabel.BackgroundTransparency = 1.000
			ToggleLabel.Position = UDim2.new(0.0357069932, 1, 0.0263157897, 1)
			ToggleLabel.Size = UDim2.new(0, 190, 0, 37)
			ToggleLabel.ZIndex = 5
			ToggleLabel.FontFace = Font.new([[rbxasset://fonts/families/Nunito.json]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
			ToggleLabel.Text = ToggleTxt
			ToggleLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
			ToggleLabel.TextSize = 36.000
			ToggleLabel.TextWrapped = true
			ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
			ToggleLabel.TextYAlignment = Enum.TextYAlignment.Bottom

			Clickable_2.Name = "Clickable"
			Clickable_2.Parent = ToggleFrame
			Clickable_2.Active = false
			Clickable_2.BackgroundColor3 = Color3.fromRGB(74, 74, 74)
			Clickable_2.BorderSizePixel = 0
			Clickable_2.Position = UDim2.new(0.813917339, 10, 0.125, 2)
			Clickable_2.Selectable = false
			Clickable_2.Size = UDim2.new(0, 25, 0, 25)
			Clickable_2.ZIndex = 9
			Clickable_2.Font = Enum.Font.Unknown
			Clickable_2.Text = ""
			Clickable_2.TextColor3 = Color3.fromRGB(200, 200, 200)
			Clickable_2.TextSize = 36.000
			Clickable_2.TextWrapped = true
			Clickable_2.TextYAlignment = Enum.TextYAlignment.Bottom
			
			local script = Instance.new('LocalScript', Clickable_2)

			local togged = false
			script.Parent.MouseButton1Click:Connect(function()
				if togged == false then
					local ClickSound2 = Instance.new("Sound")

					ClickSound2.Parent = Clickable_2
					ClickSound2.SoundId = "rbxassetid://552900451"
					ClickSound2.Volume = 2
					
					game.TweenService:Create(Clickable_2, TweenInfo.new(0.15, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
						BackgroundColor3 = Color3.fromRGB(17, 124, 0)
					}):Play()
					togged = true
					ClickSound2:Play()
				else
					local ClickSound2 = Instance.new("Sound")

					ClickSound2.Parent = Clickable_2
					ClickSound2.SoundId = "rbxassetid://552900451"
					ClickSound2.Volume = 2
					
					game.TweenService:Create(Clickable_2, TweenInfo.new(0.15, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
						BackgroundColor3 = Color3.fromRGB(74,74,74)
					}):Play()
					
					togged = false
					ClickSound2:Play()
				end
				callback(togged)
			end)

			UIStroke_2.Parent = Clickable_2	
			UIStroke_2.Name = "UIStroke"	
			UIStroke_2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_2.Thickness = 1
			UIStroke_2.Color = Color3.fromRGB(255,255,255)
			
			UIStroke_3.Parent = ToggleFrame	
			UIStroke_3.Name = "UIStroke"	
			UIStroke_3.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
			UIStroke_3.Thickness = 2.5
			UIStroke_3.Color = Color3.fromRGB(86, 86, 86)

			UICorner_6.CornerRadius = UDim.new(0, 99)
			UICorner_6.Parent = Clickable_2
		end
		
		return Elements;
		
end
	
	TabFrames.Name = "TabFrames"
	TabFrames.Parent = Window

	LibTitle.Name = "LibTitle"
	LibTitle.Parent = TopBar
	LibTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	LibTitle.BackgroundTransparency = 1.000
	LibTitle.Position = UDim2.new(0.0361842103, 0, 0, 0)
	LibTitle.Size = UDim2.new(0, 421, 0, 44)
	LibTitle.ZIndex = 7
	LibTitle.FontFace = Font.new([[rbxassetid://12187365977]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
	LibTitle.Text = Title
	LibTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
	LibTitle.TextSize = 40.000
	LibTitle.TextWrapped = true
	LibTitle.TextXAlignment = Enum.TextXAlignment.Left

	Minimize.Name = "Minimize"
	Minimize.Parent = TopBar
	Minimize.Active = false
	Minimize.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Minimize.BackgroundTransparency = 1.000
	Minimize.Position = UDim2.new(0.846620023, 0, 0.0574163198, 0)
	Minimize.Selectable = false
	Minimize.Size = UDim2.new(0, 37, 0, 37)
	Minimize.ZIndex = 7
	Minimize.FontFace = Font.new([[rbxassetid://12187365977]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
	Minimize.Text = "-"
	Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
	Minimize.TextSize = 53.000
	Minimize.TextWrapped = true
	Minimize.MouseButton1Click:Connect(function()
		if TopBar.ClipsDescendants == true then
			
			local ClickSound = 	Instance.new("Sound")

			ClickSound.Parent = Close
			ClickSound.SoundId = "rbxassetid://552900451"
			ClickSound.Volume = 2
			
			ClickSound:Play()
			TopBar.ClipsDescendants = false
			
		elseif TopBar.ClipsDescendants == false then
			
			local ClickSound = 	Instance.new("Sound")

			ClickSound.Parent = Close
			ClickSound.SoundId = "rbxassetid://552900451"
			ClickSound.Volume = 2
			
			ClickSound:Play()
			TopBar.ClipsDescendants = true
			
		end
	end)

	Close.Name = "Close"
	Close.Parent = TopBar
	Close.Active = false
	Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Close.BackgroundTransparency = 1.000
	Close.Position = UDim2.new(0.91875118, 0, 0.0801435933, -4)
	Close.Selectable = false
	Close.Size = UDim2.new(0, 37, 0, 37)
	Close.ZIndex = 7
	Close.FontFace = Font.new([[rbxassetid://12187365977]], Enum.FontWeight.Bold, Enum.FontStyle.Normal)
	Close.Text = "x"
	Close.TextColor3 = Color3.fromRGB(255, 255, 255)
	Close.TextSize = 44.000
	Close.TextWrapped = true
	Close.MouseButton1Click:Connect(function()
		if LibTest.Enabled == true then
			local ClickSound = 	Instance.new("Sound")

			ClickSound.Parent = Close
			ClickSound.SoundId = "rbxassetid://8284260932"
			ClickSound.Volume = 2

			TopBar.ClipsDescendants = true 
			wait(0.6)
			tweenService:Create(TopBar, TweenInfo.new(0.9, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Position = UDim2.new(0.286585361, 0, 0.260598481, -40) }):Play()
			wait(1)
			ClickSound:Play()
			tweenService:Create(TopBar, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Position = UDim2.new(0.286585361, 0, 3.999, 0) }):Play()
			wait(0.89)
			LibTest.Enabled = false
		else
			return nil	
		end
	end)
	return tabs;
end
return lib
